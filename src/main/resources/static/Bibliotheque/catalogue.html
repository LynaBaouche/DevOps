<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Catalogue â€“ BibliothÃ¨que</title>
    <link rel="stylesheet" href="bu.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../header.css">
    <link rel="stylesheet" href="subheader.css">
</head>

<body>
<div id="notifToast" class="notification-toast" style="display:none;">
    <div class="toast-content">
        <strong id="toastTitle">RÃ©servation confirmÃ©e !</strong>
        <p id="toastMessage"></p>
    </div>
</div>

<script src="../header.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const header = document.querySelector('.main-header');
        const currentPath = window.location.pathname; // DÃ©tecte la page actuelle

        if (header) {
            const subMenuHTML = `
                <nav class="bu-submenu">
                    <a href="catalogue.html" class="${currentPath.includes('catalogue') ? 'active' : ''}">Catalogue</a>
                    <a href="reservation.html" class="${currentPath.includes('reservation') ? 'active' : ''}">Mes RÃ©servations</a>
                    <a href="places.html" class="${currentPath.includes('places') ? 'active' : ''}">RÃ©server une Place</a>
                    <a href="services.html" class="${currentPath.includes('services') ? 'active' : ''}">Services</a>
                </nav>`;
            header.insertAdjacentHTML('beforeend', subMenuHTML);
        }
    });
</script>
<main class="page">

    <!-- Recherche -->
    <div class="search-area">
        <div style="display: flex; flex: 1; align-items: center; background: white; border-radius: 8px; padding-right: 10px;">
            <input type="text" class="search-input" id="searchInput"
                   placeholder="Rechercher un livre, auteur, ISBNâ€¦">
            <button id="searchButton" style="background:none; border:none; cursor:pointer; font-size:1.2rem;">ğŸ”</button>
        </div>
        <select class="category-select" id="categorySelect">
            <option>Toutes les catÃ©gories</option>
        </select>
        <button class="btn-filtres">Filtres avancÃ©s</button>
    </div>

    <!-- Stats -->
    <div class="stats-bar">
        <span>ğŸ“˜ <strong>15 247</strong> ouvrages</span>
        <span>ğŸŸ¢ <strong>12 891</strong> disponibles</span>
        <span>ğŸ“• <strong>2 356</strong> empruntÃ©s</span>
        <span>ğŸ”– <strong>1 234</strong> rÃ©servÃ©s</span>
    </div>

    <!-- Catalogue -->
    <section class="books-grid" id="booksGrid"></section>

</main>

<div class="modal-overlay" id="bookModalOverlay" style="display: none;">
    <div class="modal">
        <div class="modal-header">
            <h3 class="modal-title">RÃ©server un ouvrage</h3>
            <button class="modal-close" id="bookModalClose">&times;</button>
        </div>
        <div class="modal-body" id="bookModalBody">
        </div>
        <div class="modal-footer" style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
            <button class="btn-secondary" id="bookModalCancel">Annuler</button>
            <button class="btn-primary" id="bookModalConfirm">Confirmer</button>
        </div>
    </div>
</div>

<!-- Toast -->
<div class="toast" id="bookToast">
    <div class="toast-title">RÃ©servation confirmÃ©e !</div>
    <div class="toast-text" id="bookToastText"></div>
</div>

<script src="catalogue.js"></script>
<script src="/app.js"></script>

</body>
</html>
