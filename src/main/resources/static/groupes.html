<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groupes & Communaut√©s | EtudLife</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="header.css">

    <style>
        .group-grid-horizontal {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .group-grid-horizontal::-webkit-scrollbar { height: 8px; }
        .group-grid-horizontal::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }

        .group-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .group-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.2s;
            border: 1px solid #eee;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 200px;
        }
        .group-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        .card-badge {
            background: #e0f2fe; color: #0284c7; font-size: 0.75rem;
            padding: 4px 8px; border-radius: 12px; align-self: center; margin-bottom: 10px; font-weight: bold;
        }

        .reco-card { border: 2px solid #8b5cf6; background: #fbf8ff; min-width: 220px; }
        .reco-card .card-badge { background: #8b5cf6; color: white; }

        .btn-join {
            background: #2563eb; color: white; border: none; padding: 8px 15px;
            border-radius: 6px; cursor: pointer; width: 100%; font-weight: 600;
            transition: background 0.2s;
        }
        .btn-join:hover { background: #1d4ed8; }

        .section-title {
            display: flex; align-items: center; gap: 10px; margin-bottom: 5px;
            color: #1e293b; font-size: 1.2rem;
        }
        .subtitle-reco { color: #64748b; font-size: 0.9rem; margin-bottom: 15px; display: block; }
    </style>
</head>
<body>

<script src="header.js"></script>

<main id="app-container" class="container app-layout" style="display: none;">

    <aside class="col-left">
        <h3>Mon Profil</h3>
        <div id="modern-user-profile" class="card"></div>

        <h3>Mes Proches</h3>
        <div id="user-proches" class="card"></div>
    </aside>

    <section class="col-main">

        <h3>Mes Groupes</h3>
        <div id="user-groupes" class="card">
        </div>

        <div class="tabs-container" style="margin-top: 20px;">
            <button id="tab-reco" class="tab-btn active" onclick="switchGroupView('reco')">
                ‚ú® Recommand√©s pour vous
            </button>
            <button id="tab-all" class="tab-btn" onclick="switchGroupView('all')">
                üåç Explorer tous les groupes
            </button>
        </div>

        <div id="view-recommandations" class="view-section">
            <div id="reco-container">
            </div>

            <div id="no-reco-msg" style="display:none; text-align:center; padding:20px; color:#666;">
                <p>Pas encore de recommandations ? Compl√©tez vos hobbies dans votre profil !</p>
                <button class="btn-join" style="width:auto;" onclick="switchGroupView('all')">Voir tout le catalogue</button>
            </div>
        </div>

        <div id="view-all-groups" class="view-section" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; margin-top: 20px;">
                <h3 class="section-title" style="margin:0;">Catalogue complet</h3>
                <select id="category-filter" style="padding: 8px; border-radius: 8px; border: 1px solid #ccc;">
                    <option value="all">Toutes les cat√©gories</option>
                </select>
            </div>
            <div id="all-groups-grid" class="group-grid">
            </div>
        </div>

        <div id="feed-section" style="margin-top: 40px; border-top: 2px solid #f1f5f9; padding-top: 20px;">
            <h3>Fil d'actualit√©</h3>
            <div id="feed-posts" class="card"></div>
        </div>

    </section>

    <aside class="col-right">
        <h3>Publier un Post</h3>
        <form id="form-create-post" class="card">
            <textarea id="post-contenu" placeholder="Exprimez-vous..." required></textarea>
            <label style="margin-top:10px; display:block; font-weight:bold;">Publier dans :</label>
            <select id="select-my-groupes-post" required></select>
            <button type="submit" style="margin-top:10px;">Publier</button>
        </form>
    </aside>

</main>

<div id="editProfileModal" class="modal hidden">
    <div class="modal-content">
        <span class="close-modal" onclick="closeEditProfile()">&times;</span>
        <h2>Modifier mon profil</h2>
        <form id="editProfileForm">
            <input type="text" id="editNom" placeholder="Pr√©nom Nom" required>
            <input type="email" id="editEmail" placeholder="Email" required>
            <input type="text" id="editTelephone" placeholder="T√©l√©phone">
            <input type="text" id="editAdresse" placeholder="Adresse">
            <textarea id="editBio" placeholder="Biographie"></textarea>
            <button type="submit">Enregistrer</button>
        </form>
    </div>
</div>

<script src="app.js"></script>
</body>

<footer class="etudlife-footer">
    <section class="footer-content container">
        <div class="footer-col">
            <div class="footer-logo">
                <img src="images/etudlife.png" alt="Logo" class="footer-logo-img">
                <span class="footer-logo-text"><strong>Etud</strong>Life</span>
            </div>
            <p class="footer-desc">La plateforme compl√®te pour simplifier votre vie √©tudiante.</p>
        </div>
        <div class="footer-col">
            <h4>Support</h4>
            <ul>
                <li>Centre d‚Äôaide</li>
                <li>Contact</li>
            </ul>
        </div>
    </section>
    <div class="footer-bottom">
        <p>¬© 2025 EtudLife.</p>
    </div>
</footer>
</html>