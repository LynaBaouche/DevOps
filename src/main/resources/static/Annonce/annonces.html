<!DOCTYPE html>
<html lang="fr">

<head>


    <script>
        const user = JSON.parse(localStorage.getItem("utilisateur"));
        if (!user) {
            alert("âš ï¸ Vous devez vous connecter pour accÃ©der aux annonces.");
            window.location.href = "/login.html";
        }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petites Annonces | EtudLife</title>

    <link rel="stylesheet" href="/Annonce/annonces.css">
    <link rel="stylesheet" href="/header.css">
    <script defer src="/Annonce/annonces.js"></script>

</head>

<body class="page-annonces">

<script src="/header.js"></script>

<!-- ============================================================
        ğŸ“„ CONTENU â€” WRAPPER QUI FIXE LE PROBLÃˆME Dâ€™ALIGNEMENT
=============================================================== -->
<div class="annonces-content">

    <h1 class="title">Petites Annonces</h1>

    <!-- Boutons favoris + mes annonces -->
    <div class="annonce-top-actions">
        <button id="btn-favoris" class="action-btn" onclick="window.location.href='/Annonce/favoris.html'">
            ğŸ¤ Mes favoris <span id="fav-count">0</span>
        </button>

        <button id="btn-mes-annonces" class="action-btn primary" onclick="window.location.href='/Annonce/mes_annonces.html'">
            ğŸ“˜ Mes annonces
        </button>
    </div>

    <p class="subtitle">
        Logements, cours particuliers, emplois et services pour Ã©tudiants
    </p>

    <!-- Barre de recherche -->
    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Rechercher une annonce...">
    </div>

    <!-- Filtres -->
    <div class="filters">
        <button data-cat="toutes" class="filter active">Toutes</button>
        <button data-cat="logement" class="filter">Logement</button>
        <button data-cat="cours" class="filter">Cours particuliers</button>
        <button data-cat="emploi" class="filter">Emplois</button>
        <button data-cat="service" class="filter">Services</button>
        <button data-cat="objet" class="filter">Objets</button>
    </div>

    <!-- Statistiques -->
    <div id="stats" class="stats-boxes"></div>

    <!-- Liste des annonces -->
    <div id="annonces-list" class="annonces-grid"></div>

</div> <!-- FIN annonces-content -->


<div id="detailsModal" class="modal hidden">

    <div class="modal-overlay"></div>

    <div class="modal-box">

        <!-- IMAGE TOP -->
        <img id="modal-img" class="modal-img" alt="Image annonce">

        <div class="modal-body">

            <!-- HEADER TITRE + PRIX + DATE -->
            <div class="modal-header">
                <h2 id="modal-title" class="modal-title"></h2>

                <div class="modal-price-date">
                    <span id="modal-prix" class="modal-price"></span>
                    <span id="modal-date" class="modal-date"></span>
                </div>

                <span id="closeModal" class="modal-close">&times;</span>
            </div>

            <!-- BADGE CAT -->
            <span id="modal-cat" class="modal-badge"></span>

            <!-- INFORMATIONS -->
            <div class="modal-info">
                <p>ğŸ“ <strong>Localisation :</strong> <span id="modal-ville"></span></p>
                <p>ğŸ‘¤ <strong>PubliÃ© par :</strong> <span id="modal-auteur"></span></p>
            </div>

            <!-- DESCRIPTION -->
            <h3>Description</h3>
            <p id="modal-desc"></p>

            <!-- LIEN EXTERNE -->
            <div id="modal-link" style="margin-top:15px;"></div>



            <!-- ACTIONS -->
            <div class="modal-actions">
                <button id="modal-fav-btn" class="fav-btn">ğŸ¤ Ajouter aux favoris</button>

            </div>

        </div>

    </div>
</div>

</body>
</html>
